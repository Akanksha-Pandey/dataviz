<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Fundamentals of Data Visualization</title>
  <meta name="description" content="A guide to making visualizations that accurately reflect the data, tell a story, and look professional.">
  <meta name="generator" content="bookdown 0.5.14 and GitBook 2.6.7">

  <meta property="og:title" content="Fundamentals of Data Visualization" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A guide to making visualizations that accurately reflect the data, tell a story, and look professional." />
  <meta name="github-repo" content="clauswilke/dataviz" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Fundamentals of Data Visualization" />
  
  <meta name="twitter:description" content="A guide to making visualizations that accurately reflect the data, tell a story, and look professional." />
  

<meta name="author" content="Claus O. Wilke">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="color-pitfalls.html">
<link rel="next" href="image-file-formats.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Visualization</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#thoughts-on-graphing-software-and-figure-preparation-pipelines"><i class="fa fa-check"></i>Thoughts on graphing software and figure-preparation pipelines</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#good-bad-and-ugly-figures"><i class="fa fa-check"></i>Good, bad, and ugly figures</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="part"><span><b>Part I: From data to visualization</b></span></li>
<li class="chapter" data-level="1" data-path="visualizing-data-mapping-data-onto-aesthetics.html"><a href="visualizing-data-mapping-data-onto-aesthetics.html"><i class="fa fa-check"></i><b>1</b> Visualizing data: mapping data onto aesthetics</a><ul>
<li class="chapter" data-level="1.1" data-path="visualizing-data-mapping-data-onto-aesthetics.html"><a href="visualizing-data-mapping-data-onto-aesthetics.html#aesthetics-and-types-of-data"><i class="fa fa-check"></i><b>1.1</b> Aesthetics and types of data</a></li>
<li class="chapter" data-level="1.2" data-path="visualizing-data-mapping-data-onto-aesthetics.html"><a href="visualizing-data-mapping-data-onto-aesthetics.html#scales-map-data-values-onto-aesthetics"><i class="fa fa-check"></i><b>1.2</b> Scales map data values onto aesthetics</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="coordinate-systems-axes.html"><a href="coordinate-systems-axes.html"><i class="fa fa-check"></i><b>2</b> Coordinate systems and axes</a><ul>
<li class="chapter" data-level="2.1" data-path="coordinate-systems-axes.html"><a href="coordinate-systems-axes.html#cartesian-coordinates"><i class="fa fa-check"></i><b>2.1</b> Cartesian coordinates</a></li>
<li class="chapter" data-level="2.2" data-path="coordinate-systems-axes.html"><a href="coordinate-systems-axes.html#nonlinear-axes"><i class="fa fa-check"></i><b>2.2</b> Nonlinear axes</a></li>
<li class="chapter" data-level="2.3" data-path="coordinate-systems-axes.html"><a href="coordinate-systems-axes.html#coordinate-systems-with-curved-axes"><i class="fa fa-check"></i><b>2.3</b> Coordinate systems with curved axes</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="color-basics.html"><a href="color-basics.html"><i class="fa fa-check"></i><b>3</b> Color scales</a><ul>
<li class="chapter" data-level="3.1" data-path="color-basics.html"><a href="color-basics.html#color-as-a-tool-to-distinguish"><i class="fa fa-check"></i><b>3.1</b> Color as a tool to distinguish</a></li>
<li class="chapter" data-level="3.2" data-path="color-basics.html"><a href="color-basics.html#color-to-represent-data-values"><i class="fa fa-check"></i><b>3.2</b> Color to represent data values</a></li>
<li class="chapter" data-level="3.3" data-path="color-basics.html"><a href="color-basics.html#color-as-a-tool-to-highlight"><i class="fa fa-check"></i><b>3.3</b> Color as a tool to highlight</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="directory-of-visualizations.html"><a href="directory-of-visualizations.html"><i class="fa fa-check"></i><b>4</b> Directory of visualizations</a><ul>
<li class="chapter" data-level="4.1" data-path="directory-of-visualizations.html"><a href="directory-of-visualizations.html#proportions"><i class="fa fa-check"></i><b>4.1</b> Proportions</a></li>
<li class="chapter" data-level="4.2" data-path="directory-of-visualizations.html"><a href="directory-of-visualizations.html#individual-distributions"><i class="fa fa-check"></i><b>4.2</b> Individual distributions</a></li>
<li class="chapter" data-level="4.3" data-path="directory-of-visualizations.html"><a href="directory-of-visualizations.html#multiple-distributions"><i class="fa fa-check"></i><b>4.3</b> Multiple distributions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="histograms-density-plots.html"><a href="histograms-density-plots.html"><i class="fa fa-check"></i><b>5</b> Visualizing distributions: Histograms and density plots</a><ul>
<li class="chapter" data-level="5.1" data-path="histograms-density-plots.html"><a href="histograms-density-plots.html#visualizing-a-single-distribution"><i class="fa fa-check"></i><b>5.1</b> Visualizing a single distribution</a></li>
<li class="chapter" data-level="5.2" data-path="histograms-density-plots.html"><a href="histograms-density-plots.html#multiple-histograms-densities"><i class="fa fa-check"></i><b>5.2</b> Visualizing multiple distributions at the same time</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ecdf-qq.html"><a href="ecdf-qq.html"><i class="fa fa-check"></i><b>6</b> Visualizing distributions: Empirical cumulative density functions and q-q plots</a><ul>
<li class="chapter" data-level="6.1" data-path="ecdf-qq.html"><a href="ecdf-qq.html#empirical-cumulative-density-functions"><i class="fa fa-check"></i><b>6.1</b> Empirical cumulative density functions</a></li>
<li class="chapter" data-level="6.2" data-path="ecdf-qq.html"><a href="ecdf-qq.html#skewed-distributions"><i class="fa fa-check"></i><b>6.2</b> Highly skewed distributions</a></li>
<li class="chapter" data-level="6.3" data-path="ecdf-qq.html"><a href="ecdf-qq.html#qq-plots"><i class="fa fa-check"></i><b>6.3</b> Quantile–quantile plots</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="boxplots-violins.html"><a href="boxplots-violins.html"><i class="fa fa-check"></i><b>7</b> Visualizing many distributions at once: boxplots, violins, and ridgeline plots</a><ul>
<li class="chapter" data-level="7.1" data-path="boxplots-violins.html"><a href="boxplots-violins.html#visualizing-distributions-along-the-vertical-axis"><i class="fa fa-check"></i><b>7.1</b> Visualizing distributions along the vertical axis</a></li>
<li class="chapter" data-level="7.2" data-path="boxplots-violins.html"><a href="boxplots-violins.html#visualizing-distributions-along-the-horizontal-axis"><i class="fa fa-check"></i><b>7.2</b> Visualizing distributions along the horizontal axis</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="visualizing-proportions.html"><a href="visualizing-proportions.html"><i class="fa fa-check"></i><b>8</b> Visualizing proportions</a><ul>
<li class="chapter" data-level="8.1" data-path="visualizing-proportions.html"><a href="visualizing-proportions.html#a-case-for-pie-charts"><i class="fa fa-check"></i><b>8.1</b> A case for pie charts</a></li>
<li class="chapter" data-level="8.2" data-path="visualizing-proportions.html"><a href="visualizing-proportions.html#side-by-side-bars"><i class="fa fa-check"></i><b>8.2</b> A case for side-by-side bars</a></li>
<li class="chapter" data-level="8.3" data-path="visualizing-proportions.html"><a href="visualizing-proportions.html#stacked-densities"><i class="fa fa-check"></i><b>8.3</b> A case for stacked bars and stacked densities</a></li>
<li class="chapter" data-level="8.4" data-path="visualizing-proportions.html"><a href="visualizing-proportions.html#visualizing-proportions-separately-as-parts-of-the-total"><i class="fa fa-check"></i><b>8.4</b> Visualizing proportions separately as parts of the total</a></li>
</ul></li>
<li class="part"><span><b>Part II: Principles of figure design</b></span></li>
<li class="chapter" data-level="9" data-path="small-axis-labels.html"><a href="small-axis-labels.html"><i class="fa fa-check"></i><b>9</b> Your axis labels are too small</a></li>
<li class="chapter" data-level="10" data-path="proportional-ink.html"><a href="proportional-ink.html"><i class="fa fa-check"></i><b>10</b> The principle of proportional ink</a><ul>
<li class="chapter" data-level="10.1" data-path="proportional-ink.html"><a href="proportional-ink.html#visualizations-along-linear-axes"><i class="fa fa-check"></i><b>10.1</b> Visualizations along linear axes</a></li>
<li class="chapter" data-level="10.2" data-path="proportional-ink.html"><a href="proportional-ink.html#visualizations-along-logarithmic-axes"><i class="fa fa-check"></i><b>10.2</b> Visualizations along logarithmic axes</a></li>
<li class="chapter" data-level="10.3" data-path="proportional-ink.html"><a href="proportional-ink.html#direct-area-visualizations"><i class="fa fa-check"></i><b>10.3</b> Direct area visualizations</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="overlapping-points.html"><a href="overlapping-points.html"><i class="fa fa-check"></i><b>11</b> Handling overlapping points</a><ul>
<li class="chapter" data-level="11.1" data-path="overlapping-points.html"><a href="overlapping-points.html#partial-transparency-and-jittering"><i class="fa fa-check"></i><b>11.1</b> Partial transparency and jittering</a></li>
<li class="chapter" data-level="11.2" data-path="overlapping-points.html"><a href="overlapping-points.html#d-histograms"><i class="fa fa-check"></i><b>11.2</b> 2d histograms</a></li>
<li class="chapter" data-level="11.3" data-path="overlapping-points.html"><a href="overlapping-points.html#contour-lines"><i class="fa fa-check"></i><b>11.3</b> Contour lines</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="avoid-line-drawings.html"><a href="avoid-line-drawings.html"><i class="fa fa-check"></i><b>12</b> Avoid line drawings</a></li>
<li class="chapter" data-level="13" data-path="color-pitfalls.html"><a href="color-pitfalls.html"><i class="fa fa-check"></i><b>13</b> Common pitfalls of color use</a><ul>
<li class="chapter" data-level="13.1" data-path="color-pitfalls.html"><a href="color-pitfalls.html#encoding-too-much-or-irrelevant-information"><i class="fa fa-check"></i><b>13.1</b> Encoding too much or irrelevant information</a></li>
<li class="chapter" data-level="13.2" data-path="color-pitfalls.html"><a href="color-pitfalls.html#using-non-monotonic-color-scales-to-encode-data-values"><i class="fa fa-check"></i><b>13.2</b> Using non-monotonic color scales to encode data values</a></li>
<li class="chapter" data-level="13.3" data-path="color-pitfalls.html"><a href="color-pitfalls.html#not-designing-for-color-vision-deficiency"><i class="fa fa-check"></i><b>13.3</b> Not designing for color-vision deficiency</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="redundant-coding.html"><a href="redundant-coding.html"><i class="fa fa-check"></i><b>14</b> Redundant coding</a><ul>
<li class="chapter" data-level="14.1" data-path="redundant-coding.html"><a href="redundant-coding.html#designing-legends-with-redundant-coding"><i class="fa fa-check"></i><b>14.1</b> Designing legends with redundant coding</a></li>
<li class="chapter" data-level="14.2" data-path="redundant-coding.html"><a href="redundant-coding.html#designing-figures-without-legends"><i class="fa fa-check"></i><b>14.2</b> Designing figures without legends</a></li>
</ul></li>
<li class="part"><span><b>Part III: Miscellaneous topics</b></span></li>
<li class="chapter" data-level="15" data-path="image-file-formats.html"><a href="image-file-formats.html"><i class="fa fa-check"></i><b>15</b> Understanding the most commonly used image file formats</a><ul>
<li class="chapter" data-level="15.1" data-path="image-file-formats.html"><a href="image-file-formats.html#bitmap-and-vector-graphics"><i class="fa fa-check"></i><b>15.1</b> Bitmap and vector graphics</a></li>
<li class="chapter" data-level="15.2" data-path="image-file-formats.html"><a href="image-file-formats.html#lossless-and-lossy-compression-of-bitmap-graphics"><i class="fa fa-check"></i><b>15.2</b> Lossless and lossy compression of bitmap graphics</a></li>
<li class="chapter" data-level="15.3" data-path="image-file-formats.html"><a href="image-file-formats.html#converting-between-image-formats"><i class="fa fa-check"></i><b>15.3</b> Converting between image formats</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="outline.html"><a href="outline.html"><i class="fa fa-check"></i>Outline</a><ul>
<li class="chapter" data-level="" data-path="outline.html"><a href="outline.html#part-i-from-data-to-visualization"><i class="fa fa-check"></i>Part I: From data to visualization</a></li>
<li class="chapter" data-level="" data-path="outline.html"><a href="outline.html#part-ii-principles-of-figure-design"><i class="fa fa-check"></i>Part II: Principles of figure design</a></li>
<li class="chapter" data-level="" data-path="outline.html"><a href="outline.html#part-iii-miscellaneous-topics"><i class="fa fa-check"></i>Part III: Miscellaneous topics</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="technical-notes.html"><a href="technical-notes.html"><i class="fa fa-check"></i>Technical notes</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Fundamentals of Data Visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="redundant-coding" class="section level1">
<h1><span class="header-section-number">14</span> Redundant coding</h1>
<p>In Chapter <a href="color-pitfalls.html#color-pitfalls">13</a>, we have seen that color cannot always convey information as effectively as we might wish. If we have many different items we want to identify, doing so by color may not work. It will be difficult to match the colors in the plot to the colors in the legend (Figure <a href="color-pitfalls.html#fig:popgrowth-vs-popsize-colored">13.1</a>). And even if we only need to distinguish two to three different items, color may fail if the colored items are very small (Figure <a href="color-pitfalls.html#fig:colors-thin-lines">13.11</a>) and/or the colors look similar for people suffering from color-vision deficiency (Figures <a href="color-pitfalls.html#fig:red-green-cvd-sim">13.7</a> and <a href="color-pitfalls.html#fig:blue-green-cvd-sim">13.8</a>). The general solution in all these scenarios is to use color to enhance the visual appearance of the figure without relying entirely on color to convey key information. I refer to this design principle as <em>redundant coding</em>, because it prompts us to encode data redundantly, using multiple different aesthetic dimensions.</p>
<div id="designing-legends-with-redundant-coding" class="section level2">
<h2><span class="header-section-number">14.1</span> Designing legends with redundant coding</h2>
<p>Scatter plots of several groups of data are frequently designed such that the points representing different groups differ only in their color. As an example, consider Figure <a href="redundant-coding.html#fig:iris-scatter-one-shape">14.1</a>, which shows the sepal width versus the sepal length of three different <em>Iris</em> species. (Sepals are the outer leafs of flowers in flowering plants.) The points representing the different species differ in their colors, but otherwise all points look exactly the same. Even though this figure contains only three distinct groups of points, it is difficult to read even for people with normal color vision. The problem arises because the data points for the two species <em>Iris virginica</em> and <em>Iris versicolor</em> intermingle, and their two respective colors, green and blue, are not particularly distinct from each other.</p>

<div class="figure" style="text-align: center"><span id="fig:iris-scatter-one-shape"></span>
<img src="redundant_coding_files/figure-html4/iris-scatter-one-shape-1.png" alt="Sepal width versus sepal length for three different iris species (Iris setosa, Iris virginica, and Iris versicolor). Each point represents the measurements for one plant sample. A small amount of jitter has been applied to all point positions to prevent overplotting. The figure is labeled bad because the virginica points in green and the versicolor points in blue are difficult to distinguish from each other." width="576" />
<p class="caption">
Figure 14.1: Sepal width versus sepal length for three different iris species (<em>Iris setosa</em>, <em>Iris virginica</em>, and <em>Iris versicolor</em>). Each point represents the measurements for one plant sample. A small amount of jitter has been applied to all point positions to prevent overplotting. The figure is labeled bad because the <em>virginica</em> points in green and the <em>versicolor</em> points in blue are difficult to distinguish from each other.
</p>
</div>
<p>Surprisingly, the green and blue points look more distinct for people with red–green color-vision-deficiency (deuteranomaly or protanomaly) than for people with normal color vision (compare Figure <a href="redundant-coding.html#fig:iris-scatter-one-shape-cvd">14.2</a>, top row, to Figure <a href="redundant-coding.html#fig:iris-scatter-one-shape">14.1</a>). On the other hand, for people with blue–yellow deficiency (tritanomaly) the blue and green points look very similar (Figure <a href="redundant-coding.html#fig:iris-scatter-one-shape-cvd">14.2</a>, bottom left). And if we print out the figure in gray-scale (i.e., we <em>desaturate</em> the figure), we cannot distinguish any of the iris species (Figure <a href="redundant-coding.html#fig:iris-scatter-one-shape-cvd">14.2</a>, bottom right).</p>

<div class="figure" style="text-align: center"><span id="fig:iris-scatter-one-shape-cvd"></span>
<img src="redundant_coding_files/figure-html4/iris-scatter-one-shape-cvd-1.png" alt="Color-vision-deficiency simulation of Figure 14.1." width="816" />
<p class="caption">
Figure 14.2: Color-vision-deficiency simulation of Figure <a href="redundant-coding.html#fig:iris-scatter-one-shape">14.1</a>.
</p>
</div>
<p>There are two simple improvements we can make to Figure <a href="redundant-coding.html#fig:iris-scatter-one-shape">14.1</a> to alleviate these issues. First, we can swap the colors used for <em>Iris setosa</em> and <em>Iris versicolor</em>, so that the blue is no longer directly next to the green (Figure <a href="redundant-coding.html#fig:iris-scatter-three-shapes">14.3</a>). Second, we can use three different symbol shapes, so that the points all look different. With these two changes, both the original version of the figure (Figure <a href="redundant-coding.html#fig:iris-scatter-three-shapes">14.3</a>) and the versions under color-vision-deficiency and in grayscale (Figure <a href="redundant-coding.html#fig:iris-scatter-three-shapes-cvd">14.4</a>) become legible.</p>

<div class="figure" style="text-align: center"><span id="fig:iris-scatter-three-shapes"></span>
<img src="redundant_coding_files/figure-html4/iris-scatter-three-shapes-1.png" alt="Sepal width versus sepal length for three different iris species. Compared to Figure 14.1, we have swapped the colors for Iris setosa and Iris versicolor and we have given each iris species its own point shape." width="576" />
<p class="caption">
Figure 14.3: Sepal width versus sepal length for three different iris species. Compared to Figure <a href="redundant-coding.html#fig:iris-scatter-one-shape">14.1</a>, we have swapped the colors for <em>Iris setosa</em> and <em>Iris versicolor</em> and we have given each iris species its own point shape.
</p>
</div>

<div class="figure" style="text-align: center"><span id="fig:iris-scatter-three-shapes-cvd"></span>
<img src="redundant_coding_files/figure-html4/iris-scatter-three-shapes-cvd-1.png" alt="Color-vision-deficiency simulation of Figure 14.3. Because of the use of different point shapes, even the fully desaturated gray-scale version of the figure is legible." width="816" />
<p class="caption">
Figure 14.4: Color-vision-deficiency simulation of Figure <a href="redundant-coding.html#fig:iris-scatter-three-shapes">14.3</a>. Because of the use of different point shapes, even the fully desaturated gray-scale version of the figure is legible.
</p>
</div>
<p>Changing the point shape is a simple strategy for scatter plots but it doesn’t necessarily work for other types of plots. In line plots, we could change the line type (solid, dashed, dotted, etc., see also Figure <a href="visualizing-data-mapping-data-onto-aesthetics.html#fig:common-aesthetics">1.1</a>), but using dashed or dotted lines often yields sub-optimal results. In particular, dashed or dotted lines usually don’t look good unless they are perfectly straight or only gently curved, and in either case they create visual noise. Also, it frequently requires significant mental effort to match different types of dash or dot–dash patterns from the plot to the legend. So what do we do with a visualization such as Figure <a href="redundant-coding.html#fig:tech-stocks-bad-legend">14.5</a>, which uses lines to show the change in stock price over time for four different major tech companies?</p>

<div class="figure" style="text-align: center"><span id="fig:tech-stocks-bad-legend"></span>
<img src="redundant_coding_files/figure-html4/tech-stocks-bad-legend-1.png" alt="Stock price over time for four major tech companies. The stock price for each company has been normalized to equal 100 in June 2012. This figure is labeled as bad because it takes considerable mental energy to match the company names in the legend to the data curves." width="576" />
<p class="caption">
Figure 14.5: Stock price over time for four major tech companies. The stock price for each company has been normalized to equal 100 in June 2012. This figure is labeled as bad because it takes considerable mental energy to match the company names in the legend to the data curves.
</p>
</div>
<p>The figure contains four lines representing the stock prices of the four different companies. The lines are color coded using a colorblind-friendly color scale. So it should be relatively straightfoward to associate each line with the corresponding company. Yet it is not. The problem here is that the data lines have a clear visual order. The yellow line, representing Facebook, is clearly the highest line, and the black line, representing Apple, is clearly the lowest, with Alphabet and Microsoft inbetween, in that order. Yet the order of the four companies in the legend is Alphabet, Apple, Facebook, Microsoft (alphabetic order). Thus, the perceived order of the data lines differs from the order of the companies in the legend, and it takes a surprising amount of mental effort to match data lines with company names.</p>
<p>This problem arises commonly with plotting software that autogenerates legends. The plotting software has no concept of the visual order the viewer will perceive. Instead, the software sorts the legend by some other order, most commonly alphabetical. We can fix this problem by manually reordering the entries in the legend so they match the preceived ordering in the data (Figure <a href="redundant-coding.html#fig:tech-stocks-good-legend">14.6</a>). The result is a figure that makes it much easier to match the legend to the data.</p>

<div class="figure" style="text-align: center"><span id="fig:tech-stocks-good-legend"></span>
<img src="redundant_coding_files/figure-html4/tech-stocks-good-legend-1.png" alt="Stock price over time for four major tech companies. The stock price for each company has been normalized to equal 100 in June 2012." width="576" />
<p class="caption">
Figure 14.6: Stock price over time for four major tech companies. The stock price for each company has been normalized to equal 100 in June 2012.
</p>
</div>
<div class="rmdtip">
<p>
If there is a clear visual ordering in your data, make sure to match it in the legend.
</p>
</div>
<p>Matching the legend order to the data order is always helpful, but the benefits are particularly obvious under color-vision deficiency simulation (Figure <a href="redundant-coding.html#fig:tech-stocks-good-legend-cvd">14.7</a>). For example, it helps in the tritanomaly version of the figure, where the blue and the green become difficult to distinguish (Figure <a href="redundant-coding.html#fig:tech-stocks-good-legend-cvd">14.7</a>, bottom left). It also helps in the grayscale version (Figure <a href="redundant-coding.html#fig:tech-stocks-good-legend-cvd">14.7</a>, bottom right). Even though the two colors for Facebook and Alphabet have virtually the same gray value, we can see that Microsoft and Apple are represented by darker colors and take the bottom two spots. Therefore, we correctly assume that the highest line corresponds to Facebook and the second-highest line to Alphabet.</p>

<div class="figure" style="text-align: center"><span id="fig:tech-stocks-good-legend-cvd"></span>
<img src="redundant_coding_files/figure-html4/tech-stocks-good-legend-cvd-1.png" alt="Color-vision-deficiency simulation of Figure 14.6." width="816" />
<p class="caption">
Figure 14.7: Color-vision-deficiency simulation of Figure <a href="redundant-coding.html#fig:tech-stocks-good-legend">14.6</a>.
</p>
</div>
</div>
<div id="designing-figures-without-legends" class="section level2">
<h2><span class="header-section-number">14.2</span> Designing figures without legends</h2>
<p>Even though legend legibility can be improved by encoding data redundantly, in multiple aesthetics, legends always put an extra mental burden on the reader. In reading a legend, the reader needs to pick up information in one part of the visualization and then transfer it over to a different part. We can typically make our readers’ lifes easier if we eliminate the legend altogether. Eliminating the legend does not mean, however, that we simply not provide one and instead write sentences such as “The yellow dots represent <em>Iris versicolor</em>” in the figure caption. Eliminating the legend means that we design the figure in such a way that it is immediately obvious what the various graphical elements represent, even if no explicit legend is present.</p>
<p>The general strategy we can employ is called <em>direct labeling</em>, whereby we place appropriate text labels or other visual elements that serve as guideposts to the rest of the figure. We have previously encountered direct labeling in Chapter <a href="color-pitfalls.html#color-pitfalls">13</a> (Figure <a href="color-pitfalls.html#fig:popgrowth-vs-popsize-bw">13.2</a>), as an alternative to drawing a legend with over 50 distinct colors. To apply the direct labeling concept to the stock-price figure, we place the name of each company right next to the end of its respective data line (Figure <a href="redundant-coding.html#fig:tech-stocks-good-no-legend">14.8</a>).</p>

<div class="figure" style="text-align: center"><span id="fig:tech-stocks-good-no-legend"></span>
<img src="redundant_coding_files/figure-html4/tech-stocks-good-no-legend-1.png" alt="Stock price over time for four major tech companies. The stock price for each company has been normalized to equal 100 in June 2012." width="576" />
<p class="caption">
Figure 14.8: Stock price over time for four major tech companies. The stock price for each company has been normalized to equal 100 in June 2012.
</p>
</div>
<div class="rmdtip">
<p>
Whenever possible, design your figures so they don’t need a legend.
</p>
</div>
<p>We can also apply the direct labeling concept to the iris data from the beginning of this chapter, specifically Figure <a href="redundant-coding.html#fig:iris-scatter-three-shapes">14.3</a>. Because it is a scatter plot of many points that separate into three different groups, we need to direct label the groups rather than the individual points. One solution is to draw ellipses that enclose the majority of the points and then label the ellipses (Figure <a href="redundant-coding.html#fig:iris-scatter-with-ellipses">14.9</a>).</p>

<div class="figure" style="text-align: center"><span id="fig:iris-scatter-with-ellipses"></span>
<img src="redundant_coding_files/figure-html4/iris-scatter-with-ellipses-1.png" alt="Sepal width versus sepal length for three different iris species. I have removed the background grid from this figure because otherwise the figure was becoming too busy." width="441.6" />
<p class="caption">
Figure 14.9: Sepal width versus sepal length for three different iris species. I have removed the background grid from this figure because otherwise the figure was becoming too busy.
</p>
</div>
<p>For density plots, we can similarly direct-label the curves rather than providing a color-coded legend (Figure <a href="redundant-coding.html#fig:iris-densities-direct-label">14.10</a>). In both Figures <a href="redundant-coding.html#fig:iris-scatter-with-ellipses">14.9</a> and <a href="redundant-coding.html#fig:iris-densities-direct-label">14.10</a>, I have colored the text labels in the same colors as the data. Colored labels can greatly enhance the direct labeling effect, but they can also turn out very poorly. If the text lables are printed in a color that is too light, then the labels become difficult to read. And, because text consists of very thin lines, colored text often appears to be lighter than an adjacent filled area of the same color. I generally circumvent these issues by using two different shades of each color, a light one for filled areas and a dark one for lines, outlines, and text. If you carefully inspect Figure <a href="redundant-coding.html#fig:iris-scatter-with-ellipses">14.9</a> or <a href="redundant-coding.html#fig:iris-densities-direct-label">14.10</a>, you will see how each data point or shaded area is filled with a light color and has an outline drawn in a darker color of the same hue. And the text labels are drawn in the same darker colors.</p>

<div class="figure" style="text-align: center"><span id="fig:iris-densities-direct-label"></span>
<img src="redundant_coding_files/figure-html4/iris-densities-direct-label-1.png" alt="Density estimates of the sepal lengths of three different iris species. Each density estimate is directly labeled with the respective species name." width="576" />
<p class="caption">
Figure 14.10: Density estimates of the sepal lengths of three different iris species. Each density estimate is directly labeled with the respective species name.
</p>
</div>
<p>We can also use density plots such as the one in Figure <a href="redundant-coding.html#fig:iris-densities-direct-label">14.10</a> as a legend replacement, by placing the density plots into the margins of a scatter plot (Figure <a href="redundant-coding.html#fig:iris-scatter-dens">14.11</a>). This allows us to direct-label the marginal density plots rather than the central scatter plot and hence results in a figure that is somewhat less cluttered than Figure <a href="redundant-coding.html#fig:iris-scatter-with-ellipses">14.9</a> with directly-labeled ellipses.</p>

<div class="figure" style="text-align: center"><span id="fig:iris-scatter-dens"></span>
<img src="redundant_coding_files/figure-html4/iris-scatter-dens-1.png" alt="Sepal width versus sepal length for three different iris species, with marginal density estimates of each variable for each species." width="576" />
<p class="caption">
Figure 14.11: Sepal width versus sepal length for three different iris species, with marginal density estimates of each variable for each species.
</p>
</div>
<p>And finally, whenever we encode a single variable in multiple aesthetics, we don’t normally want multiple separate legends for the different aesthetics. Instead, there should be only a single legend-like visual element that conveys all mappings at once. In the case where we map the same variable onto a position along a major axis and onto color, this implies that the reference color bar should run along and be integrated into the same axis. Figure <a href="redundant-coding.html#fig:temp-ridgeline-colorbar">14.12</a> shows a case where we map temperature to both a position along the <em>x</em> axis and onto color, and where we therefore have integrated the color legend into the <em>x</em> axis.</p>

<div class="figure" style="text-align: center"><span id="fig:temp-ridgeline-colorbar"></span>
<img src="redundant_coding_files/figure-html4/temp-ridgeline-colorbar-1.png" alt="Temperatures in Lincoln, Nebraska, in 2016. This figure is a variation of Figure 7.9. Temperature is now shown both by location along the x axis and by color, and a color bar along the x axis visualizes the scale that converts temperatures into colors." width="576" />
<p class="caption">
Figure 14.12: Temperatures in Lincoln, Nebraska, in 2016. This figure is a variation of Figure <a href="boxplots-violins.html#fig:temp-ridgeline">7.9</a>. Temperature is now shown both by location along the <em>x</em> axis and by color, and a color bar along the <em>x</em> axis visualizes the scale that converts temperatures into colors.
</p>
</div>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="color-pitfalls.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="image-file-formats.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
