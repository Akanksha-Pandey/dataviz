<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Fundamentals of data visualization</title>
  <meta name="description" content="A guide for making figures that look professional and are publication-ready.">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Fundamentals of data visualization" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A guide for making figures that look professional and are publication-ready." />
  <meta name="github-repo" content="clauswilke/dataviz" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Fundamentals of data visualization" />
  
  <meta name="twitter:description" content="A guide for making figures that look professional and are publication-ready." />
  

<meta name="author" content="Claus O. Wilke">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="directory-of-visualizations.html">
<link rel="next" href="histograms-density-plots.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Visualization</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#thoughts-on-graphing-software-and-figure-preparation-pipelines"><i class="fa fa-check"></i>Thoughts on graphing software and figure-preparation pipelines</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#good-bad-and-ugly-figures"><i class="fa fa-check"></i>Good, bad, and ugly figures</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="part"><span><b>Part I: General principles of figure design</b></span></li>
<li class="chapter" data-level="1" data-path="visualizing-data-mapping-data-onto-aesthetics.html"><a href="visualizing-data-mapping-data-onto-aesthetics.html"><i class="fa fa-check"></i><b>1</b> Visualizing data: mapping data onto aesthetics</a></li>
<li class="chapter" data-level="2" data-path="choosing-colorblind-friendly-color-scales.html"><a href="choosing-colorblind-friendly-color-scales.html"><i class="fa fa-check"></i><b>2</b> Choosing colorblind-friendly color scales</a><ul>
<li class="chapter" data-level="2.1" data-path="choosing-colorblind-friendly-color-scales.html"><a href="choosing-colorblind-friendly-color-scales.html#qualitative-color-scales"><i class="fa fa-check"></i><b>2.1</b> Qualitative color scales</a></li>
<li class="chapter" data-level="2.2" data-path="choosing-colorblind-friendly-color-scales.html"><a href="choosing-colorblind-friendly-color-scales.html#directional-color-scales"><i class="fa fa-check"></i><b>2.2</b> Directional color scales</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="redundant-coding.html"><a href="redundant-coding.html"><i class="fa fa-check"></i><b>3</b> Redundant coding</a></li>
<li class="chapter" data-level="4" data-path="small-axis-labels.html"><a href="small-axis-labels.html"><i class="fa fa-check"></i><b>4</b> Your axis labels are too small</a></li>
<li class="chapter" data-level="5" data-path="background-grids.html"><a href="background-grids.html"><i class="fa fa-check"></i><b>5</b> Background grids</a></li>
<li class="chapter" data-level="6" data-path="avoid-line-drawings.html"><a href="avoid-line-drawings.html"><i class="fa fa-check"></i><b>6</b> Avoid line drawings</a></li>
<li class="chapter" data-level="7" data-path="overlapping-points.html"><a href="overlapping-points.html"><i class="fa fa-check"></i><b>7</b> Handling overlapping points</a><ul>
<li class="chapter" data-level="7.1" data-path="overlapping-points.html"><a href="overlapping-points.html#partial-transparency"><i class="fa fa-check"></i><b>7.1</b> Partial transparency</a></li>
<li class="chapter" data-level="7.2" data-path="overlapping-points.html"><a href="overlapping-points.html#jittering"><i class="fa fa-check"></i><b>7.2</b> Jittering</a></li>
<li class="chapter" data-level="7.3" data-path="overlapping-points.html"><a href="overlapping-points.html#contour-lines"><i class="fa fa-check"></i><b>7.3</b> Contour lines</a></li>
<li class="chapter" data-level="7.4" data-path="overlapping-points.html"><a href="overlapping-points.html#d-histograms"><i class="fa fa-check"></i><b>7.4</b> 2d histograms</a></li>
</ul></li>
<li class="part"><span><b>Part II: A visualization for every occasion</b></span></li>
<li class="chapter" data-level="8" data-path="directory-of-visualizations.html"><a href="directory-of-visualizations.html"><i class="fa fa-check"></i><b>8</b> Directory of visualizations</a><ul>
<li class="chapter" data-level="8.1" data-path="directory-of-visualizations.html"><a href="directory-of-visualizations.html#proportions"><i class="fa fa-check"></i><b>8.1</b> Proportions</a></li>
<li class="chapter" data-level="8.2" data-path="directory-of-visualizations.html"><a href="directory-of-visualizations.html#individual-distributions"><i class="fa fa-check"></i><b>8.2</b> Individual distributions</a></li>
<li class="chapter" data-level="8.3" data-path="directory-of-visualizations.html"><a href="directory-of-visualizations.html#multiple-distributions"><i class="fa fa-check"></i><b>8.3</b> Multiple distributions</a></li>
<li class="chapter" data-level="8.4" data-path="directory-of-visualizations.html"><a href="directory-of-visualizations.html#other"><i class="fa fa-check"></i><b>8.4</b> Other</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="visualizing-proportions.html"><a href="visualizing-proportions.html"><i class="fa fa-check"></i><b>9</b> Visualizing proportions</a><ul>
<li class="chapter" data-level="9.1" data-path="visualizing-proportions.html"><a href="visualizing-proportions.html#a-case-for-pie-charts"><i class="fa fa-check"></i><b>9.1</b> A case for pie charts</a></li>
<li class="chapter" data-level="9.2" data-path="visualizing-proportions.html"><a href="visualizing-proportions.html#side-by-side-bars"><i class="fa fa-check"></i><b>9.2</b> A case for side-by-side bars</a></li>
<li class="chapter" data-level="9.3" data-path="visualizing-proportions.html"><a href="visualizing-proportions.html#stacked-densities"><i class="fa fa-check"></i><b>9.3</b> A case for stacked bars and stacked densities</a></li>
<li class="chapter" data-level="9.4" data-path="visualizing-proportions.html"><a href="visualizing-proportions.html#visualizing-proportions-separately-as-parts-of-the-total"><i class="fa fa-check"></i><b>9.4</b> Visualizing proportions separately as parts of the total</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="histograms-density-plots.html"><a href="histograms-density-plots.html"><i class="fa fa-check"></i><b>10</b> Visualizing distributions: Histograms and density plots</a><ul>
<li class="chapter" data-level="10.1" data-path="histograms-density-plots.html"><a href="histograms-density-plots.html#visualizing-a-single-distribution"><i class="fa fa-check"></i><b>10.1</b> Visualizing a single distribution</a></li>
<li class="chapter" data-level="10.2" data-path="histograms-density-plots.html"><a href="histograms-density-plots.html#multiple-histograms-densities"><i class="fa fa-check"></i><b>10.2</b> Visualizing multiple distributions at the same time</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="ecdf-qq.html"><a href="ecdf-qq.html"><i class="fa fa-check"></i><b>11</b> Visualizing distributions: Empirical cumulative density functions and q-q plots</a><ul>
<li class="chapter" data-level="11.1" data-path="ecdf-qq.html"><a href="ecdf-qq.html#empirical-cumulative-density-functions"><i class="fa fa-check"></i><b>11.1</b> Empirical cumulative density functions</a></li>
<li class="chapter" data-level="11.2" data-path="ecdf-qq.html"><a href="ecdf-qq.html#skewed-distributions"><i class="fa fa-check"></i><b>11.2</b> Highly skewed distributions</a></li>
<li class="chapter" data-level="11.3" data-path="ecdf-qq.html"><a href="ecdf-qq.html#qq-plots"><i class="fa fa-check"></i><b>11.3</b> Quantile–quantile plots</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="boxplots-violins.html"><a href="boxplots-violins.html"><i class="fa fa-check"></i><b>12</b> Boxplots, violin plots, and more</a></li>
<li class="part"><span><b>Part III: Miscellaneous topics</b></span></li>
<li class="chapter" data-level="13" data-path="understanding-the-most-commonly-used-image-file-formats.html"><a href="understanding-the-most-commonly-used-image-file-formats.html"><i class="fa fa-check"></i><b>13</b> Understanding the most commonly used image file formats</a><ul>
<li class="chapter" data-level="13.1" data-path="understanding-the-most-commonly-used-image-file-formats.html"><a href="understanding-the-most-commonly-used-image-file-formats.html#bitmap-and-vector-graphics"><i class="fa fa-check"></i><b>13.1</b> Bitmap and vector graphics</a></li>
<li class="chapter" data-level="13.2" data-path="understanding-the-most-commonly-used-image-file-formats.html"><a href="understanding-the-most-commonly-used-image-file-formats.html#lossless-and-lossy-compression-of-bitmap-graphics"><i class="fa fa-check"></i><b>13.2</b> Lossless and lossy compression of bitmap graphics</a></li>
<li class="chapter" data-level="13.3" data-path="understanding-the-most-commonly-used-image-file-formats.html"><a href="understanding-the-most-commonly-used-image-file-formats.html#converting-between-image-formats"><i class="fa fa-check"></i><b>13.3</b> Converting between image formats</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="notes.html"><a href="notes.html"><i class="fa fa-check"></i><b>14</b> Notes</a><ul>
<li class="chapter" data-level="14.1" data-path="notes.html"><a href="notes.html#outline"><i class="fa fa-check"></i><b>14.1</b> Outline</a><ul>
<li class="chapter" data-level="" data-path="notes.html"><a href="notes.html#part-i-general-principles-of-figure-design"><i class="fa fa-check"></i>Part I: General principles of figure design</a></li>
<li class="chapter" data-level="" data-path="notes.html"><a href="notes.html#part-ii-a-visualization-for-every-occasion"><i class="fa fa-check"></i>Part II: A visualization for every occasion</a></li>
<li class="chapter" data-level="" data-path="notes.html"><a href="notes.html#part-iii-miscellaneous-topics"><i class="fa fa-check"></i>Part III: Miscellaneous topics</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="notes.html"><a href="notes.html#other-notes-and-comments"><i class="fa fa-check"></i><b>14.2</b> Other notes and comments</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Fundamentals of data visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visualizing-proportions" class="section level1">
<h1><span class="header-section-number">9</span> Visualizing proportions</h1>
<p>We often want to show how some group, entity, or amount breaks down into individual pieces that each represent a <em>proportion</em> of the whole. Common examples include the proportions of men and women in a group of people, the percentages of people voting for different political parties in an election, or the market shares of companies. The archetypical such visualization is the pie chart, omnipresent in any business presentation and much maligned among data scientists. As we will see, visualizing proportions can be challenging, in particular when the whole is broken into many different pieces or when we want to see changes in proportions over time or across conditions. There is no single ideal visualization that always works. To illustrate this issue, I discuss a few different scenarios that each call for a different type of visualization.</p>
<div class="rmdtip">
<p>
Remember: You always need to pick the visualization that best fits your specific dataset and that highlights the key data features you want to show.
</p>
</div>
<div id="a-case-for-pie-charts" class="section level2">
<h2><span class="header-section-number">9.1</span> A case for pie charts</h2>
<p>From 1961 to 1983, the German parliament (called the <em>Bundestag</em>) was composed of members of three different parties, CDU/CSU, SPD, and FDP. During most of this time, CDU/CSU and SPD had approximately comparable numbers of seats, while the FDP typically held only a small fraction of seats. For example, in the 8th Bundestag, from 1976–1980, the CDU/CSU held 243 seats, SPD 214, and FDP 39, for a total of 496. Such parliamentary data is most commonly visualized as a pie chart (Figure <a href="visualizing-proportions.html#fig:bundestag-pie">9.1</a>).</p>

<div class="figure" style="text-align: center"><span id="fig:bundestag-pie"></span>
<img src="visualizing_proportions_files/figure-html/bundestag-pie-1.png" alt="Party composition of the 8th German Bundestag, 1976–1980, visualized as a pie chart. This visualization shows clearly that the ruling coalition of SPD and FDP had a small majority over the opposition CDU/CSU." width="403.2" />
<p class="caption">
Figure 9.1: Party composition of the 8th German Bundestag, 1976–1980, visualized as a pie chart. This visualization shows clearly that the ruling coalition of SPD and FDP had a small majority over the opposition CDU/CSU.
</p>
</div>
<p>A pie chart breaks a circle into slices such that the area of each slice is proportional to the fraction of the total it represents. The same procedure can be performed on a rectangle, and the result is a stacked bar chart (Figure <a href="visualizing-proportions.html#fig:bundestag-stacked-bars">9.2</a>). Depending on whether we slice the bar vertically or horizontally, we obtain vertically stacked bars (Figure <a href="visualizing-proportions.html#fig:bundestag-stacked-bars">9.2</a>a) or horizontally stacked bars (Figure <a href="visualizing-proportions.html#fig:bundestag-stacked-bars">9.2</a>b).</p>

<div class="figure" style="text-align: center"><span id="fig:bundestag-stacked-bars"></span>
<img src="visualizing_proportions_files/figure-html/bundestag-stacked-bars-1.png" alt="Party composition of the 8th German Bundestag, 1976–1980, visualized as stacked bars. (a) Bars stacked vertically. (b) Bars stacked horizontally. It is not immediately obvious that SPD and FDP jointly had more seats than CDU/CSU." width="816" />
<p class="caption">
Figure 9.2: Party composition of the 8th German Bundestag, 1976–1980, visualized as stacked bars. (a) Bars stacked vertically. (b) Bars stacked horizontally. It is not immediately obvious that SPD and FDP jointly had more seats than CDU/CSU.
</p>
</div>
<p>We can also take the bars from Figure <a href="visualizing-proportions.html#fig:bundestag-stacked-bars">9.2</a>a and place them side-by-side rather than stacking them on top of each other. This visualization makes it easier to perform a direct comparison of the three groups, though it obscures other aspects of the data (Figure <a href="visualizing-proportions.html#fig:bundestag-bars-side-by-side">9.3</a>). Most importantly, in a side-by-side bar plot the relationship of each bar to the total is not visually obvious.</p>

<div class="figure" style="text-align: center"><span id="fig:bundestag-bars-side-by-side"></span>
<img src="visualizing_proportions_files/figure-html/bundestag-bars-side-by-side-1.png" alt="Party composition of the 8th German Bundestag, 1976–1980, visualized as side-by-side bars. As in Figure 9.2, it is not immediately obvious that SPD and FDP jointly had more seats than CDU/CSU." width="576" />
<p class="caption">
Figure 9.3: Party composition of the 8th German Bundestag, 1976–1980, visualized as side-by-side bars. As in Figure <a href="visualizing-proportions.html#fig:bundestag-stacked-bars">9.2</a>, it is not immediately obvious that SPD and FDP jointly had more seats than CDU/CSU.
</p>
</div>
<p>Many authors categorically reject pie charts and argue in favor of side-by-side or stacked bars. Others defend the use of pie charts in some applications. My own opinion is that none of these visualizations is consistently superior over any other. Depending on the features of the dataset and the specific story you want to tell, you may want to favor one or the other approach. In the case of the 8th German Bundestag, I think that a pie chart is the best option. It shows clearly that the ruling coalition of SPD and FDP jointly had a small majority over the CDU/CSU (Figure <a href="visualizing-proportions.html#fig:bundestag-pie">9.1</a>). This fact is not visually obvious in any of the other plots (Figures <a href="visualizing-proportions.html#fig:bundestag-stacked-bars">9.2</a> and <a href="visualizing-proportions.html#fig:bundestag-bars-side-by-side">9.3</a>).</p>
<p>In general, pie charts work well when the goal is to emphasize simple fractions, such as one-half, one-third, or one-quarter. They also work well when we have very small datasets. A single pie chart, as in Figure <a href="visualizing-proportions.html#fig:bundestag-pie">9.1</a>, looks just fine, but a single column of stacked bars, as in Figure <a href="visualizing-proportions.html#fig:bundestag-stacked-bars">9.2</a>a, looks awkward. Stacked bars, on the other hand, can work for side-by-side comparisons of multiple conditions or in a time series, and side-by-side bars are preferred when we want to directly compare the individual fractions to each other. A summary of the various pros and cons of pie charts, stacked bars, and side-by-side bars is provided in Table <a href="visualizing-proportions.html#tab:pros-cons-pie-bar">9.1</a>.</p>
<table>
<caption><span id="tab:pros-cons-pie-bar">Table 9.1: </span> Pros and cons of common apporaches to visualizing proportions: pie charts, stacked bars, and side-by-side bars.</caption>
<colgroup>
<col width="34%" />
<col width="21%" />
<col width="21%" />
<col width="21%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th align="center">Pie chart</th>
<th align="center">Stacked bars</th>
<th align="center">Side-by-side bars</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Clearly visualizes the data as proportions of a whole</td>
<td align="center">✔</td>
<td align="center">✔</td>
<td align="center">✖</td>
</tr>
<tr class="even">
<td>Allows easy visual comparison of the relative proportions</td>
<td align="center">✖</td>
<td align="center">✖</td>
<td align="center">✔</td>
</tr>
<tr class="odd">
<td>Visually emphasizes simple fractions, such as 1/2, 1/3, 1/4</td>
<td align="center">✔</td>
<td align="center">✖</td>
<td align="center">✖</td>
</tr>
<tr class="even">
<td>Looks visually appealing even for very small datasets</td>
<td align="center">✔</td>
<td align="center">✖</td>
<td align="center">✔</td>
</tr>
<tr class="odd">
<td>Works well when the whole is broken into many pieces</td>
<td align="center">✖</td>
<td align="center">✖</td>
<td align="center">✔</td>
</tr>
<tr class="even">
<td>Works well for the visualization of many sets of proportions or time series of proportions</td>
<td align="center">✖</td>
<td align="center">✔</td>
<td align="center">✖</td>
</tr>
</tbody>
</table>
</div>
<div id="side-by-side-bars" class="section level2">
<h2><span class="header-section-number">9.2</span> A case for side-by-side bars</h2>
<p>I will now demonstrate a case where pie charts fail. This example is modeled after a critiqute of pie charts originally posted on Wikipedia <span class="citation">(Wikipedia <a href="#ref-Schutz-piecharts">2007</a>)</span>. Consider the hypothetical scenario of five companies, A, B, C, D, and E, who all have roughly comparable market share of approximately 20%. Our hypothetical dataset lists the marketshare of each company for three consecutive years. When we visualize this dataset with pie charts, it is difficult to see what exactly is going on (Figure <a href="visualizing-proportions.html#fig:marketshare-pies">9.4</a>). It appears that the market share of company A is growing and the one of company E is shrinking, but beyond this one observation we can’t tell what’s going on. In particular, it is unclear how exactly the market shares of the different companies compare within each year.</p>

<div class="figure" style="text-align: center"><span id="fig:marketshare-pies"></span>
<img src="visualizing_proportions_files/figure-html/marketshare-pies-1.png" alt="Market share of five hypothetical companies, A–E, for the years 2015–2017, visualized as pie charts. This visualization has two major problems: 1. A comparison of relative market share within years is nearly impossible. 2. Changes in market share across years are difficult to see." width="816" />
<p class="caption">
Figure 9.4: Market share of five hypothetical companies, A–E, for the years 2015–2017, visualized as pie charts. This visualization has two major problems: 1. A comparison of relative market share within years is nearly impossible. 2. Changes in market share across years are difficult to see.
</p>
</div>
<p>The picture becomes a little clearer when we switch to stacked bars (Figure <a href="visualizing-proportions.html#fig:marketshare-stacked">9.5</a>). Now the trends of a growing market share for company A and a shrinking market share for company E are clearly visible. However, the relative market shares of the five companies within each year are still hard to compare. And it is difficult to compare the market shares of companies B, C, and D across years, because the bars are shifted relative to each other across years. This is a general problem of stacked-bar plots, and the main reason why I normally not recommend this type of visualization.</p>

<div class="figure" style="text-align: center"><span id="fig:marketshare-stacked"></span>
<img src="visualizing_proportions_files/figure-html/marketshare-stacked-1.png" alt="Market share of five hypothetical companies for the years 2015–2017, visualized as stacked bars. This visualization has two major problems: 1. A comparison of relative market shares within years is difficult. 2. Changes in market share across years are difficult to see for the middle companies B, C, and D, because the location of the bars changes across years." width="576" />
<p class="caption">
Figure 9.5: Market share of five hypothetical companies for the years 2015–2017, visualized as stacked bars. This visualization has two major problems: 1. A comparison of relative market shares within years is difficult. 2. Changes in market share across years are difficult to see for the middle companies B, C, and D, because the location of the bars changes across years.
</p>
</div>
<p>For this hypothetical data set, side-by-side bars are the best choice (Figure <a href="visualizing-proportions.html#fig:marketshare-side-by-side">9.6</a>). This visualization highlights that both companies A and B have increased their market share from 2015 to 2017 while both companies D and E have reduced theirs. It also shows that market shares increase sequentially from company A to E in 2015 and similarly decrease in 2017.</p>

<div class="figure" style="text-align: center"><span id="fig:marketshare-side-by-side"></span>
<img src="visualizing_proportions_files/figure-html/marketshare-side-by-side-1.png" alt="Market share of five hypothetical companies for the years 2015–2017, visualized as side-by-side bars." width="576" />
<p class="caption">
Figure 9.6: Market share of five hypothetical companies for the years 2015–2017, visualized as side-by-side bars.
</p>
</div>
</div>
<div id="stacked-densities" class="section level2">
<h2><span class="header-section-number">9.3</span> A case for stacked bars and stacked densities</h2>
<p>In Section <a href="visualizing-proportions.html#side-by-side-bars">9.2</a>, I wrote that I don’t normally recommend sequences of stacked bars, because the location of the internal bars shifts along the sequence. However, the problem of shifting internal bars disappears if there are only two bars in each stack, and in those cases the resulting visualization can be exceptionally clear. As an example, consider the proportion of women in a country’s national parliament. We will specifically look at the African country Rwanda, which as of 2016 tops the list of countries with the highest proportion of female parliament memebers. Rwanda has had a majority female parliament since 2008, and since 2013 nearly two-thirds of its members of parliament are female. To visualize how the proportion of women in the Rwandan parliament has changed over time, we can draw a sequence of stacked bar graphs (Figure <a href="visualizing-proportions.html#fig:women-parliament">9.7</a>). This figure provides an immediate visual representation of the changing proportions over time. To help the reader see exactly when the majority turned female, I have added a thin horizontal line at 50%. Without this line, it would be near impossible to determine whether from 2003 to 2007 the majority was male or female. I have not added similar lines at 25% and 75%, to avoid making the figure too cluttered. (See Chapter <a href="background-grids.html#background-grids">5</a> for further discussion on such lines.)</p>

<div class="figure" style="text-align: center"><span id="fig:women-parliament"></span>
<img src="visualizing_proportions_files/figure-html/women-parliament-1.png" alt="Change in the gender composition of the Rwandan parliament over time, 1997 to 2016. Source: Inter-Parliamentary Union (IPU), ipu.org." width="720" />
<p class="caption">
Figure 9.7: Change in the gender composition of the Rwandan parliament over time, 1997 to 2016. Source: Inter-Parliamentary Union (IPU), ipu.org.
</p>
</div>
<p>If we want to visualize how proportions change in response to a continuous variable, we can switch from stacked bars to stacked densities. Stacked densities can be thought of as the limiting case of infinitely many infinitely small stacked bars arranged side-by-side. The densities in stacked-density plots are typically obtained from kernel density estimation, as described in Chapter <a href="histograms-density-plots.html#histograms-density-plots">10</a>, and I refer you to that chapter for a general discussion of the strengths and weaknesses of this method.</p>
<p>To give an example where stacked densities may be appropriate, consider the health status of people as a function of age. Age can be considered a continuous variable, and visualizing the data in this way works reasonably well (Figure <a href="visualizing-proportions.html#fig:health-vs-age">9.8</a>). Even though we have four health categories here, and I’m generally not a fan of stacking multiple conditions, as discussed above, I think in this case the figure is acceptable. We can see clearly that overall health declines as people age, and we can also see that despite this trend, over half of the population remain in good or excellent health until very old age.</p>

<div class="figure" style="text-align: center"><span id="fig:health-vs-age"></span>
<img src="visualizing_proportions_files/figure-html/health-vs-age-1.png" alt="Health status by age, as reported by the general social survey (GSS)." width="576" />
<p class="caption">
Figure 9.8: Health status by age, as reported by the general social survey (GSS).
</p>
</div>
<p>Nevertheless, this figure has a major limitation: By visualizing the porportions of the four health conditions as percent of the total, the figure obscures that there are many more young people than old people in the dataset. Thus, even though the <em>percentage</em> of people reporting to be in good health remains approximately unchanged across ages spanning seven decades, the <em>absolute number</em> of people in good health declines as the total number of people at a given age declines. I will present a potential solution to this problem in the next section.</p>
</div>
<div id="visualizing-proportions-separately-as-parts-of-the-total" class="section level2">
<h2><span class="header-section-number">9.4</span> Visualizing proportions separately as parts of the total</h2>
<p>Side-by-side bars have the problem that they don’t clearly visualize the size of the individual parts relative to the whole and stacked bars have the problem that the different bars cannot be compared easily because they have different baselines. We can resolve these two issues by making a separate plot for each part and in each plot showing the respective part relative to the whole. For the health dataset of Figure <a href="visualizing-proportions.html#fig:health-vs-age">9.8</a>, this procedure results in Figure <a href="visualizing-proportions.html#fig:health-vs-age-facets">9.9</a>. The overall age distribution in the dataset is shown as the shaded gray areas, and the age distributions for each health status are shown in blue. This figure highlights that in absolute terms, the number people with excellent or good health declines past ages 30–40, while the number of people with fair health remains approximately constant across all ages.</p>

<div class="figure" style="text-align: center"><span id="fig:health-vs-age-facets"></span>
<img src="visualizing_proportions_files/figure-html/health-vs-age-facets-1.png" alt="Health status by age, shown as proportion of the total number of people in the survey. The colored areas show the density estimates of the ages people with different health status, respectively, and the gray areas show the overall age distribution." width="816" />
<p class="caption">
Figure 9.9: Health status by age, shown as proportion of the total number of people in the survey. The colored areas show the density estimates of the ages people with different health status, respectively, and the gray areas show the overall age distribution.
</p>
</div>
<p>To provide a second example, let’s consider a different variable from the same survey: marital status. Marital status changes much more drastically with age than does health status, and a stacked densities plot of marital status vs age is not very illuminating (Figure <a href="visualizing-proportions.html#fig:marital-vs-age">9.10</a>).</p>

<div class="figure" style="text-align: center"><span id="fig:marital-vs-age"></span>
<img src="visualizing_proportions_files/figure-html/marital-vs-age-1.png" alt="Marital status by age, as reported by the general social survey (GSS). To simplify the figure, I have removed a small number of cases that report as separated. I have labeled this figure as bad because the frequency of people who have never been married or are widowed changes so drastically with age that the age distributions of maried and divorced people are highly distorted and difficult to interpret." width="576" />
<p class="caption">
Figure 9.10: Marital status by age, as reported by the general social survey (GSS). To simplify the figure, I have removed a small number of cases that report as separated. I have labeled this figure as bad because the frequency of people who have never been married or are widowed changes so drastically with age that the age distributions of maried and divorced people are highly distorted and difficult to interpret.
</p>
</div>
<p>The same dataset visualized as partial densities is much clearer (Figure <a href="visualizing-proportions.html#fig:marital-vs-age-facets">9.11</a>). In particular, we see that the proportion of married people peaks around the late 30s, the proportion of divorced people peaks around the early 40s, and the proportion of widowed people peaks around the mid 70s.</p>

<div class="figure" style="text-align: center"><span id="fig:marital-vs-age-facets"></span>
<img src="visualizing_proportions_files/figure-html/marital-vs-age-facets-1.png" alt="Marital status by age, shown as proportion of the total number of people in the survey. The colored areas show the density estimates of the ages people with different marital status, respectively, and the gray areas show the overall age distribution." width="816" />
<p class="caption">
Figure 9.11: Marital status by age, shown as proportion of the total number of people in the survey. The colored areas show the density estimates of the ages people with different marital status, respectively, and the gray areas show the overall age distribution.
</p>
</div>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-Schutz-piecharts">
<p>Wikipedia, User:Schutz. 2007. “File:Piecharts.svg.” <a href="https://en.wikipedia.org/wiki/File:Piecharts.svg" class="uri">https://en.wikipedia.org/wiki/File:Piecharts.svg</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="directory-of-visualizations.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="histograms-density-plots.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
